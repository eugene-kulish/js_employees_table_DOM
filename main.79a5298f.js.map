{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","tableBody","children","tableBodyRows","tableHeadRow","firstElementChild","getNumber","row","lastElementChild","textContent","slice","replace","sortParam","addEventListener","e","title","target","rows","cases","reverse","sort","row1","row2","childNumber","localeCompare","forEach","append","targetRow","closest","oldActiveRow","classList","remove","add","form","createElement","className","body","innerHTML","labels","child","dataset","qe","name","select","optionValues","optionValue","option","value","innerText","notificationText","description","errorEvent","CustomEvent","detail","successEvent","sendButton","preventDefault","data","FormData","get","length","notification","dispatchEvent","toLocaleString","setTimeout","removeChild","targetCell","prevValue","input","focus","saveValue","newValue","keyEvent","key"],"mappings":"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","file":"main.79a5298f.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\n\nconst tableBody = table.children[1];\nconst tableBodyRows = tableBody.children;\nconst tableHeadRow = table.firstElementChild.firstElementChild;\n\nconst getNumber = (row) => {\n  return +row.lastElementChild.textContent.slice(1).replace(',', '');\n};\n\nlet sortParam = '';\n\ntableHeadRow.addEventListener('click', (e) => {\n  const title = e.target.textContent;\n\n  const rows = [...tableBodyRows];\n\n  const cases = {\n    name: 'Name',\n    position: 'Position',\n    office: 'Office',\n    age: 'Age',\n    salary: 'Salary',\n  };\n\n  switch (title) {\n    case cases.name:\n    case cases.position:\n    case cases.office:\n      if (title === sortParam) {\n        rows.reverse();\n        sortParam = '';\n\n        break;\n      }\n\n      rows.sort((row1, row2) => {\n        let childNumber = 0;\n\n        if (title === cases.position) {\n          childNumber = 1;\n        } else if (title === cases.office) {\n          childNumber = 2;\n        }\n\n        return row1.children[childNumber].textContent.localeCompare(\n          row2.children[childNumber].textContent\n        );\n      });\n\n      sortParam = title;\n\n      break;\n\n    case cases.age:\n    case cases.salary:\n      if (title === sortParam) {\n        rows.reverse();\n        sortParam = '';\n\n        break;\n      }\n\n      (title === cases.age)\n        ? rows.sort((row1, row2) => (\n          +row1.children[3].textContent - +row2.children[3].textContent\n        ))\n        : rows.sort((row1, row2) => getNumber(row1) - getNumber(row2));\n\n      sortParam = title;\n\n      break;\n\n    default:\n      break;\n  }\n\n  rows.forEach(row => tableBody.append(row));\n});\n\ntableBody.addEventListener('click', (e) => {\n  const targetRow = e.target.closest('TR');\n\n  const oldActiveRow = document.querySelector('tr.active');\n\n  if (oldActiveRow) {\n    oldActiveRow.classList.remove('active');\n  }\n\n  if (targetRow) {\n    targetRow.classList.add('active');\n  }\n});\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\ndocument.body.append(form);\n\nform.innerHTML = `\n  <label>Name: <input name=\"name\" type=\"text\" required></label>\n  <label>Position: <input name=\"position\" type=\"text\" required></label>\n  <label>Office: <select name=\"office\" required></select></label>\n  <label>\n    Age:\n    <input\n      name=\"age\"\n      type=\"number\"\n      required\n    >\n  </label>\n  <label>\n    Salary:\n    <input\n      name=\"salary\"\n      type=\"number\"\n      step=\"25\"\n      min=\"30000\"\n      required\n    >\n  </label>\n`;\n\nconst labels = [...form.children];\n\nlabels.forEach(child => {\n  child.firstElementChild.dataset.qe = child.firstElementChild.name;\n});\n\nconst select = document.querySelector('select');\n\nconst optionValues = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\noptionValues.forEach(optionValue => {\n  const option = document.createElement('option');\n\n  option.value = optionValue;\n  option.innerText = optionValue;\n\n  select.append(option);\n});\n\nconst notificationText = {\n  title: '',\n  description: '',\n};\n\nconst errorEvent = new CustomEvent('loadError', {\n  detail: notificationText,\n});\nconst successEvent = new CustomEvent('success', {\n  detail: notificationText,\n});\n\nconst sendButton = document.createElement('button');\n\nsendButton.innerText = 'Save to table';\n\nform.append(sendButton);\n\nsendButton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n\n  if (data.get('name').length < 4) {\n    errorEvent.detail.title = 'Error';\n\n    errorEvent.detail.description = 'Your entered name is so small. '\n      + 'It must contain at least 4 characters';\n\n    notification.dispatchEvent(errorEvent);\n\n    return;\n  }\n\n  if (+data.get('age') < 18 || +data.get('age') > 90) {\n    errorEvent.detail.title = 'Error';\n\n    errorEvent.detail.description = 'Your age is not valid. '\n      + ((+data.get('age') < 18)\n        ? 'It should be more than 18'\n        : 'It should be less than 90');\n\n    notification.dispatchEvent(errorEvent);\n\n    return;\n  }\n\n  errorEvent.detail.title = 'Done';\n  errorEvent.detail.description = 'Your data successfully added';\n  notification.dispatchEvent(successEvent);\n\n  const row = document.createElement('tr');\n\n  row.innerHTML = `\n    <td>${data.get('name')}</td>\n    <td>${data.get('position')}</td>\n    <td>${data.get('office')}</td>\n    <td>${data.get('age')}</td>\n    <td>$${(+data.get('salary')).toLocaleString('en-US')}</td>\n  `;\n\n  tableBody.append(row);\n});\n\nconst notification = document.createElement('div');\n\nnotification.className = 'notification';\n\nnotification.dataset.qe = 'notification';\n\nnotification.innerHTML = `\n  <h2 class=\"title\"></h2>\n  <p></p>\n`;\n\nnotification.addEventListener('loadError', (e) => {\n  document.body.append(notification);\n\n  notification.classList.add('error');\n  notification.firstElementChild.innerText = errorEvent.detail.title;\n  notification.lastElementChild.innerText = errorEvent.detail.description;\n\n  setTimeout(() => {\n    document.body.removeChild(notification);\n    notification.classList.remove('error');\n  }, 2000);\n});\n\nnotification.addEventListener('success', (e) => {\n  document.body.append(notification);\n\n  notification.classList.add('success');\n  notification.firstElementChild.innerText = successEvent.detail.title;\n  notification.lastElementChild.innerText = successEvent.detail.description;\n\n  setTimeout(() => {\n    document.body.removeChild(notification);\n    notification.classList.remove('success');\n  }, 2000);\n});\n\ntableBody.addEventListener('dblclick', (e) => {\n  const targetCell = e.target.closest('td');\n\n  const prevValue = targetCell.innerText;\n\n  targetCell.innerHTML = `<input\n    type=\"text\"\n    class=\"cell-input\"\n  >`;\n\n  const input = targetCell.children[0];\n\n  input.focus();\n  input.value = prevValue;\n\n  if (prevValue[0] === '$') {\n    input.value = prevValue.slice(1).replace(',', '');\n  }\n\n  const saveValue = () => {\n    let newValue = input.value;\n\n    if (prevValue[0] === '$') {\n      newValue = `$${(+newValue).toLocaleString('en-US')}`;\n    }\n\n    targetCell.innerText = newValue ? `${newValue}` : prevValue;\n  };\n\n  input.addEventListener('blur', () => {\n    saveValue();\n  });\n\n  input.addEventListener('keypress', (keyEvent) => {\n    if (keyEvent.key === 'Enter') {\n      saveValue();\n    }\n  });\n});\n"]}